(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{268:function(e,t,n){"use strict";(function(e){var r=n(270),o=n.n(r),c=e.env.API_URL||"http://localhost:1337",l=new o.a(c);t.a=l}).call(this,n(100))},269:function(e,t,n){var content=n(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("6e815088",content,!0,{sourceMap:!1})},271:function(e,t){},276:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Coins"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initPrice"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:84}};n.loc.source={body:"query Coins {\n  coins {\n  \tid\n  \tusername\n    symbol\n    amount\n    initPrice\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};function c(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.Coins=function(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,l=new Set,d=new Set;for(r.forEach((function(e){d.add(e)}));d.size>0;){var f=d;d=new Set,f.forEach((function(e){l.has(e)||(l.add(e),(o[e]||new Set).forEach((function(e){d.add(e)})))}))}return l.forEach((function(t){var r=c(e,t);r&&n.definitions.push(r)})),n}(n,"Coins")},277:function(e,t,n){"use strict";n(269)},278:function(e,t,n){var r=n(52)(!1);r.push([e.i,".wallet table thead{border-bottom:2px solid rgba(0,0,0,.4)}",""]),e.exports=r},279:function(e,t,n){"use strict";n.r(t);var r=n(11),o=(n(51),n(32),n(64),n(74),n(194),n(276)),c=n.n(o),l=n(268),d={data:function(){return{coins:[]}},methods:{currentPrice:function(e){var t=e.symbol,n=this.$parent.coins.filter((function(e){return e.symbol.toLowerCase().includes(t.toLowerCase())}))[0];return parseFloat(n.price).toFixed(4)},currentProfit:function(e){return((this.currentPrice(e)-e.initPrice)*e.amount).toFixed(4)},currentStonks:function(e){return(e.initPrice*e.amount/this.currentProfit(e)).toFixed(2)},removeFromWallet:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.deleteEntry("coins",e);case 3:alert("Монета удалена"),location.reload(),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),t.loading=!1,console.log("Ошибка");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},apollo:{coins:{prefetch:!0,query:c.a,variables:function(){return{username:this.$store.getters["auth/username"]}}}}},f=(n(277),n(38)),component=Object(f.a)(d,(function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"wallet"},[r("h2",{staticClass:"wallet-title"},[t._v("Мой кошелек")]),t._v(" "),r("table",{staticClass:"uk-table uk-table"},[t._m(0),t._v(" "),r("tbody",t._l(t.coins.filter((function(t){return t.username===e.$store.getters["auth/username"]})),(function(e,n){return r("tr",[r("td",{staticClass:"uk-width-1-6"},[t._v(t._s(e.symbol))]),t._v(" "),r("td",{ref:"inWallet",refInFor:!0,staticClass:"uk-width-1-6"},[t._v(t._s(e.amount))]),t._v(" "),r("td",{ref:"initPrice",refInFor:!0,staticClass:"uk-width-1-6"},[t._v(t._s(e.initPrice))]),t._v(" "),r("td",{ref:"`currentOf${coin.symbol}`",refInFor:!0,staticClass:"uk-width-1-6"},[t._v(t._s(t.currentPrice(e)))]),t._v(" "),r("td",{ref:"gainings",refInFor:!0,staticClass:"uk-width-1-6"},[t._v(t._s(t.currentProfit(e)))]),t._v(" "),r("td",{staticClass:"uk-width-1-6"},[r("p",{ref:"stonks",refInFor:!0},[t._v(t._s(t.currentStonks(e)))])]),t._v(" "),r("td",{staticClass:"uk-width-1-7"},[r("a",[r("span",{staticClass:"uk-badge",staticStyle:{background:"#1C1C1C"},on:{click:function(n){return t.removeFromWallet(e.id)}}},[t._v("-")])])])])})),0)])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("td",[e._v("валюта")]),e._v(" "),n("td",[e._v("баланс")]),e._v(" "),n("td",[e._v("старт цена")]),e._v(" "),n("td",[e._v("текущая цена")]),e._v(" "),n("td",[e._v("прибыль")]),e._v(" "),n("td",[e._v("stonks, %")]),e._v(" "),n("td",[e._v("x")])])])}],!1,null,null,null);t.default=component.exports}}]);